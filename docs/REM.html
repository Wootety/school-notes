<!DOCTYPE html>
    <html>
    <head>
        <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css" integrity="sha384-TEMocfGvRuD1rIAacqrknm5BQZ7W7uWitoih+jMNFXQIbNl16bO8OZmylH/Vi/Ei" crossorigin="anonymous">
        <style>
/*--------------------------------------------------------------------------------------------- * Copyright (c) Microsoft Corporation. All rights reserved. * Licensed under the MIT License. See License.txt in the project root for license information. *--------------------------------------------------------------------------------------------*/ body { font-family: "Segoe WPC", "Segoe UI", "SFUIText-Light", "HelveticaNeue-Light", sans-serif, "Droid Sans Fallback"; font-size: 14px; padding: 0 12px; line-height: 22px; word-wrap: break-word; } body.scrollBeyondLastLine { margin-bottom: calc(100vh - 22px); } body.showEditorSelection .code-line { position: relative; } body.showEditorSelection .code-active-line:before, body.showEditorSelection .code-line:hover:before { content: ""; display: block; position: absolute; top: 0; left: -12px; height: 100%; } body.showEditorSelection li.code-active-line:before, body.showEditorSelection li.code-line:hover:before { left: -30px; } .vscode-light.showEditorSelection .code-active-line:before { border-left: 3px solid rgba(0, 0, 0, 0.15); } .vscode-light.showEditorSelection .code-line:hover:before { border-left: 3px solid rgba(0, 0, 0, 0.40); } .vscode-dark.showEditorSelection .code-active-line:before { border-left: 3px solid rgba(255, 255, 255, 0.4); } .vscode-dark.showEditorSelection .code-line:hover:before { border-left: 3px solid rgba(255, 255, 255, 0.60); } .vscode-high-contrast.showEditorSelection .code-active-line:before { border-left: 3px solid rgba(255, 160, 0, 0.7); } .vscode-high-contrast.showEditorSelection .code-line:hover:before { border-left: 3px solid rgba(255, 160, 0, 1); } img { max-width: 100%; max-height: 100%; } a { color: #4080D0; text-decoration: none; } a:focus, input:focus, select:focus, textarea:focus { outline: 1px solid -webkit-focus-ring-color; outline-offset: -1px; } hr { border: 0; height: 2px; border-bottom: 2px solid; } h1 { padding-bottom: 0.3em; line-height: 1.2; border-bottom-width: 1px; border-bottom-style: solid; } h1, h2, h3 { font-weight: normal; } h1 code, h2 code, h3 code, h4 code, h5 code, h6 code { font-size: inherit; line-height: auto; } a:hover { color: #4080D0; text-decoration: underline; } table { border-collapse: collapse; } table > thead > tr > th { text-align: left; border-bottom: 1px solid; } table > thead > tr > th, table > thead > tr > td, table > tbody > tr > th, table > tbody > tr > td { padding: 5px 10px; } table > tbody > tr + tr > td { border-top: 1px solid; } blockquote { margin: 0 7px 0 5px; padding: 0 16px 0 10px; border-left: 5px solid; } code { font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback"; font-size: 14px; line-height: 19px; } body.wordWrap pre { white-space: pre-wrap; } .mac code { font-size: 12px; line-height: 18px; } code > div { padding: 16px; border-radius: 3px; overflow: auto; } /** Theming */ .vscode-light { color: rgb(30, 30, 30); } .vscode-dark { color: #DDD; } .vscode-high-contrast { color: white; } .vscode-light code { color: #A31515; } .vscode-dark code { color: #D7BA7D; } .vscode-light code > div { background-color: rgba(220, 220, 220, 0.4); } .vscode-dark code > div { background-color: rgba(10, 10, 10, 0.4); } .vscode-high-contrast code > div { background-color: rgb(0, 0, 0); } .vscode-high-contrast h1 { border-color: rgb(0, 0, 0); } .vscode-light table > thead > tr > th { border-color: rgba(0, 0, 0, 0.69); } .vscode-dark table > thead > tr > th { border-color: rgba(255, 255, 255, 0.69); } .vscode-light h1, .vscode-light hr, .vscode-light table > tbody > tr + tr > td { border-color: rgba(0, 0, 0, 0.18); } .vscode-dark h1, .vscode-dark hr, .vscode-dark table > tbody > tr + tr > td { border-color: rgba(255, 255, 255, 0.18); } .vscode-light blockquote, .vscode-dark blockquote { background: rgba(127, 127, 127, 0.1); border-color: rgba(0, 122, 204, 0.5); } .vscode-high-contrast blockquote { background: transparent; border-color: #fff; }
</style>
<style>
/* Tomorrow Theme */ /* http://jmblog.github.com/color-themes-for-google-code-highlightjs */ /* Original theme - https://github.com/chriskempson/tomorrow-theme */ /* Tomorrow Comment */ .hljs-comment, .hljs-quote { color: #8e908c; } /* Tomorrow Red */ .hljs-variable, .hljs-template-variable, .hljs-tag, .hljs-name, .hljs-selector-id, .hljs-selector-class, .hljs-regexp, .hljs-deletion { color: #c82829; } /* Tomorrow Orange */ .hljs-number, .hljs-built_in, .hljs-builtin-name, .hljs-literal, .hljs-type, .hljs-params, .hljs-meta, .hljs-link { color: #f5871f; } /* Tomorrow Yellow */ .hljs-attribute { color: #eab700; } /* Tomorrow Green */ .hljs-string, .hljs-symbol, .hljs-bullet, .hljs-addition { color: #718c00; } /* Tomorrow Blue */ .hljs-title, .hljs-section { color: #4271ae; } /* Tomorrow Purple */ .hljs-keyword, .hljs-selector-tag { color: #8959a8; } .hljs { display: block; overflow-x: auto; color: #4d4d4c; padding: 0.5em; } .hljs-emphasis { font-style: italic; } .hljs-strong { font-weight: bold; }
</style>
<style>
ul.contains-task-list { padding-left: 0; } ul ul.contains-task-list { padding-left: 40px; } .task-list-item { list-style-type: none; } .task-list-item-checkbox { vertical-align: middle; }
</style>
        <style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', 'HelveticaNeue-Light', 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
    </head>
    <body>
        <!-- markdownlint-disable MD025 MD033-->
<h1 id="reverse-engineering-malware">Reverse Engineering Malware</h1>
<ul>
<li><a href="#reverse-engineering-malware">Reverse Engineering Malware</a></li>
<li><a href="#chapter-1---basic-concepts">Chapter 1 - Basic Concepts</a>
<ul>
<li><a href="#convert-binary-to-decimal">Convert <strong>Binary</strong> to <strong>Decimal</strong></a></li>
<li><a href="#convert-unsigned-decimal-to-binary">Convert <strong>Unsigned Decimal</strong> to <strong>Binary</strong></a></li>
<li><a href="#binary-addition">Binary Addition</a></li>
<li><a href="#binary-to-hex">Binary to Hex</a></li>
<li><a href="#hex-to-decimal">Hex to Decimal</a></li>
<li><a href="#signed-integers">Signed Integers</a></li>
<li><a href="#twos-complement">Two's Complement</a></li>
<li><a href="#binary-subtraction">Binary Subtraction</a></li>
<li><a href="#boolean-algebra">Boolean Algebra</a>
<ul>
<li><a href="#not">NOT</a></li>
<li><a href="#and">AND</a></li>
<li><a href="#or">OR</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#chapter-2---x86-processor-architecture">Chapter 2 - x86 Processor Architecture</a>
<ul>
<li><a href="#general-purpose-registers">General Purpose Registers</a></li>
<li><a href="#accessing-parts-of-a-register">Accessing Parts of a register</a></li>
<li><a href="#specialized-register-uses">Specialized Register Uses</a>
<ul>
<li><a href="#general-purpose">General Purpose</a></li>
<li><a href="#segment">Segment</a></li>
<li><a href="#special">Special</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#chapter-3---fundamentals">Chapter 3 - Fundamentals</a>
<ul>
<li><a href="#integer-contstants">Integer Contstants</a></li>
<li><a href="#instruction">Instruction</a>
<ul>
<li><a href="#label">Label</a></li>
<li><a href="#memonic-and-operands">Memonic and Operands</a></li>
<li><a href="#comments">Comments</a></li>
<li><a href="#instruction-format-example">Instruction Format Example</a></li>
</ul>
</li>
<li><a href="#defining-data">Defining Data</a>
<ul>
<li><a href="#data-types">Data Types</a></li>
<li><a href="#data-definition-statement">Data Definition Statement</a></li>
<li><a href="#defining-byte-and-sbyte">Defining BYTE and SBYTE</a></li>
<li><a href="#defining-byte-arrays">Defining Byte Arrays</a></li>
<li><a href="#dup-operator">DUP operator</a></li>
<li><a href="#little-endian-order">Little Endian order</a></li>
<li><a href="#declaring-uninitialized-data">Declaring uninitialized data</a></li>
</ul>
</li>
<li><a href="#symbolic-constants">Symbolic Constants</a>
<ul>
<li><a href="#equals-sign">Equals Sign</a></li>
<li><a href="#calculate-size-of-arrays-and-strings">Calculate Size of Arrays and strings</a>
<ul>
<li><a href="#byte-array">Byte Array</a></li>
<li><a href="#word-array">Word Array</a></li>
<li><a href="#dword-array">DWORD Array</a></li>
</ul>
</li>
<li><a href="#equ-directive">EQU Directive</a></li>
<li><a href="#textequ-directive">TEXTEQU Directive</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#chapter-4---data-transfer--addressing-and-arithmetic">Chapter 4 - Data Transfer, Addressing and Arithmetic</a>
<ul>
<li><a href="#data-transfer-instructions">Data Transfer Instructions</a>
<ul>
<li><a href="#operand-types">Operand Types</a></li>
<li><a href="#direct-memory-operands">Direct Memory Operands</a></li>
<li><a href="#mov-instruction">MOV instruction</a></li>
<li><a href="#zero-extension">Zero Extension</a></li>
<li><a href="#sign-extension">Sign Extension</a></li>
<li><a href="#xchg-instruction">XCHG Instruction</a></li>
<li><a href="#direct-offset-operands">Direct-Offset Operands</a></li>
<li><a href="#challenge---program-that-makes-a-array-of-1-2-3-to-3-1-2">Challenge - Program that makes a array of 1,2,3 to 3,1,2</a></li>
</ul>
</li>
<li><a href="#addition-and-subtraction">Addition and Subtraction</a>
<ul>
<li><a href="#inc-and-dec-instructions">INC and DEC Instructions</a></li>
<li><a href="#add-and-sub-operations">ADD and SUB operations</a></li>
<li><a href="#neg-negate-operation">NEG (negate) operation</a></li>
</ul>
</li>
<li><a href="#flags-affected-by-arithmetic">Flags affected by arithmetic</a>
<ul>
<li><a href="#zero-flag-zf">Zero Flag (ZF)</a></li>
<li><a href="#sign-flag-sf">Sign Flag (SF)</a></li>
<li><a href="#hardware-viewpoint-on-signed-and-unsigned">Hardware viewpoint on signed and unsigned</a></li>
<li><a href="#carry-flag-cf">Carry Flag (CF)</a></li>
<li><a href="#overflow-flag-of">Overflow Flag (OF)</a></li>
</ul>
</li>
<li><a href="#indirect-addressing">Indirect Addressing</a></li>
<li><a href="#jmp-and-loop-instructions">JMP and LOOP instructions</a></li>
<li><a href="#64-bit-programming">64-Bit Programming</a></li>
</ul>
</li>
</ul>
<h1 id="chapter-1---basic-concepts">Chapter 1 - Basic Concepts</h1>
<h2 id="convert-binary-to-decimal">Convert <strong>Binary</strong> to <strong>Decimal</strong></h2>
<p>binary 1011 = decimal 11</p>
<table>
<thead>
<tr>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">2^3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="base"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">2^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="base"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">2^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="base"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mn>0</mn></msup></mrow><annotation encoding="application/x-tex">2^0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="base"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mn>1</mn><mo>=</mo><msup><mn>2</mn><mn>3</mn></msup><mo>+</mo><msup><mn>2</mn><mn>1</mn></msup><mo>+</mo><msup><mn>2</mn><mn>0</mn></msup></mrow><annotation encoding="application/x-tex">11 = 2^3 + 2^1 + 2^0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord">1</span><span class="mord">1</span><span class="mord rule" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mord rule" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mord rule" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mord rule" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mord rule" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mord rule" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span></p>
<h2 id="convert-unsigned-decimal-to-binary">Convert <strong>Unsigned Decimal</strong> to <strong>Binary</strong></h2>
<table>
<thead>
<tr>
<th style="text-align:center">Division</th>
<th style="text-align:center">Quotient</th>
<th style="text-align:center">Reminder</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">37 / 2</td>
<td style="text-align:center">18</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">18 / 2</td>
<td style="text-align:center">9</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">9 / 2</td>
<td style="text-align:center">4</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">4/2</td>
<td style="text-align:center">2</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">2/2</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1/2</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>
<p><code>decimal 37 = binary 100101</code></p>
<h2 id="binary-addition">Binary Addition</h2>
<p>Start with <em>least</em> significant bit</p>
<table>
<thead>
<tr>
<th style="text-align:center">2^4</th>
<th style="text-align:center">2^3</th>
<th style="text-align:center">2^2</th>
<th style="text-align:center">2^1</th>
<th style="text-align:center">2^0</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
</tr>
</tbody>
</table>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mn>1</mn><mn>0</mn><mn>1</mn><mn>0</mn><mo>+</mo><mn>0</mn><mn>1</mn><mn>1</mn><mn>0</mn><mn>0</mn><mo>=</mo><mn>1</mn><mn>0</mn><mn>1</mn><mn>1</mn><mn>0</mn></mrow><annotation encoding="application/x-tex">01010 + 01100 = 10110</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord">0</span><span class="mord">1</span><span class="mord">0</span><span class="mord">1</span><span class="mord">0</span><span class="mord rule" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mord rule" style="margin-right:0.2222222222222222em;"></span><span class="mord">0</span><span class="mord">1</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord rule" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mord rule" style="margin-right:0.2777777777777778em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">1</span><span class="mord">1</span><span class="mord">0</span></span></span></span></p>
<h2 id="binary-to-hex">Binary to Hex</h2>
<p><strong>Each</strong> <em>Hex</em> digit translates to <strong>4</strong> <em>binary</em> digits</p>
<table>
<thead>
<tr>
<th style="text-align:center">Binary</th>
<th style="text-align:center">Decimal</th>
<th style="text-align:center">Hexadecimal</th>
<th style="text-align:center"></th>
<th style="text-align:center">Binary</th>
<th style="text-align:center">Decimal</th>
<th style="text-align:center">Hexadecimal</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0000</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center">1000</td>
<td style="text-align:center">8</td>
<td style="text-align:center">8</td>
</tr>
<tr>
<td style="text-align:center">0001</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
<td style="text-align:center">1001</td>
<td style="text-align:center">9</td>
<td style="text-align:center">9</td>
</tr>
<tr>
<td style="text-align:center">0010</td>
<td style="text-align:center">2</td>
<td style="text-align:center">2</td>
<td style="text-align:center"></td>
<td style="text-align:center">1010</td>
<td style="text-align:center">10</td>
<td style="text-align:center">A</td>
</tr>
<tr>
<td style="text-align:center">0011</td>
<td style="text-align:center">3</td>
<td style="text-align:center">3</td>
<td style="text-align:center"></td>
<td style="text-align:center">1011</td>
<td style="text-align:center">11</td>
<td style="text-align:center">B</td>
</tr>
<tr>
<td style="text-align:center">0100</td>
<td style="text-align:center">4</td>
<td style="text-align:center">4</td>
<td style="text-align:center"></td>
<td style="text-align:center">1100</td>
<td style="text-align:center">12</td>
<td style="text-align:center">C</td>
</tr>
<tr>
<td style="text-align:center">0101</td>
<td style="text-align:center">5</td>
<td style="text-align:center">5</td>
<td style="text-align:center"></td>
<td style="text-align:center">1101</td>
<td style="text-align:center">13</td>
<td style="text-align:center">D</td>
</tr>
<tr>
<td style="text-align:center">0110</td>
<td style="text-align:center">6</td>
<td style="text-align:center">6</td>
<td style="text-align:center"></td>
<td style="text-align:center">1110</td>
<td style="text-align:center">14</td>
<td style="text-align:center">E</td>
</tr>
<tr>
<td style="text-align:center">0111</td>
<td style="text-align:center">7</td>
<td style="text-align:center">7</td>
<td style="text-align:center"></td>
<td style="text-align:center">1111</td>
<td style="text-align:center">15</td>
<td style="text-align:center">F</td>
</tr>
</tbody>
</table>
<h2 id="hex-to-decimal">Hex to Decimal</h2>
<table>
<thead>
<tr>
<th style="text-align:center">Division</th>
<th style="text-align:center">Quotient</th>
<th style="text-align:center">Reminder</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">422 / 16</td>
<td style="text-align:center">26</td>
<td style="text-align:center">6</td>
</tr>
<tr>
<td style="text-align:center">26 / 16</td>
<td style="text-align:center">1</td>
<td style="text-align:center">A</td>
</tr>
<tr>
<td style="text-align:center">1 / 16</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>
<p><code>decimal 422 = Hex 1A6</code></p>
<h2 id="signed-integers">Signed Integers</h2>
<p><strong>Highest</strong> bit indicates sign. <code>1 = negative, 0 = positive</code></p>
<p>If highest digit of hex &gt; 7, value is negative</p>
<h2 id="twos-complement">Two's Complement</h2>
<p>Negative Numbers stored in two's complement notation</p>
<p>For -1</p>
<table>
<thead>
<tr>
<th style="text-align:left">Instruction</th>
<th style="text-align:center">Binary</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Starting Value</td>
<td style="text-align:center">00000001</td>
</tr>
<tr>
<td style="text-align:left">Reverse Bits</td>
<td style="text-align:center">11111110</td>
</tr>
<tr>
<td style="text-align:left">Plus 1</td>
<td style="text-align:center">11111111</td>
</tr>
</tbody>
</table>
<p><code>-1 is represented as 11111111 in a 1 byte binary</code></p>
<h2 id="binary-subtraction">Binary Subtraction</h2>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mn>0</mn><mn>0</mn><mn>0</mn><mn>1</mn><mn>1</mn><mn>0</mn><mn>0</mn><mo>−</mo><mn>0</mn><mn>0</mn><mn>0</mn><mn>0</mn><mn>0</mn><mn>0</mn><mn>1</mn><mn>1</mn><mo>=</mo><mn>0</mn><mn>0</mn><mn>0</mn><mn>0</mn><mn>1</mn><mn>1</mn><mn>0</mn><mn>0</mn><mo>+</mo><mo>(</mo><mo>−</mo><mn>0</mn><mn>0</mn><mn>0</mn><mn>0</mn><mn>0</mn><mn>0</mn><mn>1</mn><mn>1</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">00001100 - 00000011 = 00001100 + (-00000011)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord rule" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mord rule" style="margin-right:0.2222222222222222em;"></span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mord">1</span><span class="mord rule" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mord rule" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord rule" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mord rule" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></p>
<table>
<thead>
<tr>
<th style="text-align:left">Instruction</th>
<th style="text-align:center">Binary</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Starting Value</td>
<td style="text-align:center">00000011</td>
</tr>
<tr>
<td style="text-align:left">Reverse Bits</td>
<td style="text-align:center">11111100</td>
</tr>
<tr>
<td style="text-align:left">Plus 1</td>
<td style="text-align:center">11111101</td>
</tr>
</tbody>
</table>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mn>0</mn><mn>0</mn><mn>0</mn><mn>1</mn><mn>1</mn><mn>0</mn><mn>0</mn><mo>+</mo></mrow><annotation encoding="application/x-tex">00001100 +</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">+</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mn>1</mn><mn>1</mn><mn>1</mn><mn>1</mn><mn>1</mn><mn>0</mn><mn>1</mn><mo>=</mo></mrow><annotation encoding="application/x-tex">11111101 =</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base"><span class="mord">1</span><span class="mord">1</span><span class="mord">1</span><span class="mord">1</span><span class="mord">1</span><span class="mord">1</span><span class="mord">0</span><span class="mord">1</span><span class="mord rule" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mn>0</mn><mn>0</mn><mn>0</mn><mn>1</mn><mn>0</mn><mn>0</mn><mn>1</mn></mrow><annotation encoding="application/x-tex">00001001</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base"><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mn>0</mn><mn>0</mn><mn>0</mn><mn>1</mn><mn>1</mn><mn>0</mn><mn>0</mn><mo>−</mo><mn>0</mn><mn>0</mn><mn>0</mn><mn>0</mn><mn>0</mn><mn>0</mn><mn>1</mn><mn>1</mn><mo>=</mo><mn>0</mn><mn>0</mn><mn>0</mn><mn>0</mn><mn>1</mn><mn>0</mn><mn>0</mn><mn>1</mn></mrow><annotation encoding="application/x-tex">00001100 - 00000011 = 00001001</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord rule" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mord rule" style="margin-right:0.2222222222222222em;"></span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mord">1</span><span class="mord rule" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mord rule" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span></span></span></span></p>
<h2 id="boolean-algebra">Boolean Algebra</h2>
<h3 id="not">NOT</h3>
<table>
<thead>
<tr>
<th style="text-align:center">X</th>
<th style="text-align:center">Not X</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">F</td>
<td style="text-align:center">T</td>
</tr>
<tr>
<td style="text-align:center">T</td>
<td style="text-align:center">F</td>
</tr>
</tbody>
</table>
<h3 id="and">AND</h3>
<table>
<thead>
<tr>
<th style="text-align:center">X</th>
<th style="text-align:center">Y</th>
<th style="text-align:center">X AND Y</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">F</td>
<td style="text-align:center">F</td>
<td style="text-align:center">F</td>
</tr>
<tr>
<td style="text-align:center">F</td>
<td style="text-align:center">T</td>
<td style="text-align:center">F</td>
</tr>
<tr>
<td style="text-align:center">T</td>
<td style="text-align:center">F</td>
<td style="text-align:center">F</td>
</tr>
<tr>
<td style="text-align:center">T</td>
<td style="text-align:center">T</td>
<td style="text-align:center">T</td>
</tr>
</tbody>
</table>
<h3 id="or">OR</h3>
<table>
<thead>
<tr>
<th style="text-align:center">X</th>
<th style="text-align:center">Y</th>
<th style="text-align:center">X AND Y</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">F</td>
<td style="text-align:center">F</td>
<td style="text-align:center">F</td>
</tr>
<tr>
<td style="text-align:center">F</td>
<td style="text-align:center">T</td>
<td style="text-align:center">T</td>
</tr>
<tr>
<td style="text-align:center">T</td>
<td style="text-align:center">F</td>
<td style="text-align:center">T</td>
</tr>
<tr>
<td style="text-align:center">T</td>
<td style="text-align:center">T</td>
<td style="text-align:center">T</td>
</tr>
</tbody>
</table>
<h1 id="chapter-2---x86-processor-architecture">Chapter 2 - x86 Processor Architecture</h1>
<h2 id="general-purpose-registers">General Purpose Registers</h2>
<p>Storage Locations inside CPU, optimized for speed.</p>
<p>Can store a <strong>DWORD</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">32 Bit General</th>
<th style="text-align:center">Purpose Registers</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">EAX</td>
<td style="text-align:center">EBP</td>
</tr>
<tr>
<td style="text-align:center">EBX</td>
<td style="text-align:center">ESP</td>
</tr>
<tr>
<td style="text-align:center">ECX</td>
<td style="text-align:center">ESI</td>
</tr>
<tr>
<td style="text-align:center">EDX</td>
<td style="text-align:center">EDI</td>
</tr>
</tbody>
</table>
<p>Can store a <strong>WORD</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">16 Bit Segment</th>
<th style="text-align:center">Registers</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">CS</td>
<td style="text-align:center">FS</td>
</tr>
<tr>
<td style="text-align:center">DS</td>
<td style="text-align:center">GS</td>
</tr>
<tr>
<td style="text-align:center">ES</td>
<td style="text-align:center">SS</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:center">Special Registers</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">EFLAGS</td>
</tr>
<tr>
<td style="text-align:center">EIP</td>
</tr>
</tbody>
</table>
<h2 id="accessing-parts-of-a-register">Accessing Parts of a register</h2>
<p>Use 8 bit, 16 bit or 32 bit name</p>
<p>Each <code>| |</code> space represents 8 bits</p>
<pre><code class="language-demo">|   |   |   |   |   - EAX
        |   |   |   - AX
        |   |       - AH
            |   |   - AL
</code></pre>
<p><em><strong>The 16 and 8 Bit registers are accessing the values in the EAX</strong></em></p>
<p>The E in EAX stands for <code>extended</code>, extending the range of the 16 bit registers to 32 bits</p>
<p>EAX, EBX, ECX, EDX have both 16 bit and 8 bit names</p>
<p>EBP, ESP, ESI, EDI only have 16 bit names</p>
<h2 id="specialized-register-uses">Specialized Register Uses</h2>
<h3 id="general-purpose">General Purpose</h3>
<table>
<thead>
<tr>
<th style="text-align:center">Register</th>
<th style="text-align:left">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">E<strong>A</strong>X</td>
<td style="text-align:left"><strong>A</strong>ccumulator</td>
</tr>
<tr>
<td style="text-align:center">E<strong>C</strong>X</td>
<td style="text-align:left">Loop <strong>C</strong>ounter</td>
</tr>
<tr>
<td style="text-align:center">E<strong>SP</strong></td>
<td style="text-align:left"><strong>S</strong>tack Pointer</td>
</tr>
<tr>
<td style="text-align:center">ES<strong>I</strong></td>
<td style="text-align:left">Index Register</td>
</tr>
<tr>
<td style="text-align:center">ED<strong>I</strong></td>
<td style="text-align:left">Index Register</td>
</tr>
<tr>
<td style="text-align:center">EB<strong>P</strong></td>
<td style="text-align:left"><strong>B</strong>ase <strong>P</strong>ointer(Frame Pointer)</td>
</tr>
</tbody>
</table>
<h3 id="segment">Segment</h3>
<table>
<thead>
<tr>
<th style="text-align:center">Register</th>
<th style="text-align:left">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">CS</td>
<td style="text-align:left"><strong>C</strong>ode <strong>S</strong>egment</td>
</tr>
<tr>
<td style="text-align:center">DS</td>
<td style="text-align:left"><strong>D</strong>ata <strong>S</strong>egment</td>
</tr>
<tr>
<td style="text-align:center">SS</td>
<td style="text-align:left"><strong>S</strong>tack <strong>S</strong>egment</td>
</tr>
<tr>
<td style="text-align:center">ES</td>
<td style="text-align:left">Additional <strong>S</strong>egment</td>
</tr>
<tr>
<td style="text-align:center">FS</td>
<td style="text-align:left">Additional <strong>S</strong>egment</td>
</tr>
<tr>
<td style="text-align:center">GS</td>
<td style="text-align:left">Additional <strong>S</strong>egment</td>
</tr>
</tbody>
</table>
<h3 id="special">Special</h3>
<table>
<thead>
<tr>
<th style="text-align:center">Register</th>
<th style="text-align:left">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">EIP</td>
<td style="text-align:left">Instruction Pointer</td>
</tr>
<tr>
<td style="text-align:center">EFLAGS</td>
<td style="text-align:left">Status and Control Flag<br>Each Flag is a single <strong>bit</strong></td>
</tr>
</tbody>
</table>
<h1 id="chapter-3---fundamentals">Chapter 3 - Fundamentals</h1>
<h2 id="integer-contstants">Integer Contstants</h2>
<table>
<thead>
<tr>
<th style="text-align:center">Type</th>
<th style="text-align:center">Letter</th>
<th style="text-align:center">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Hex</td>
<td style="text-align:center">h</td>
<td style="text-align:center">6Ah</td>
</tr>
<tr>
<td style="text-align:center">Dec</td>
<td style="text-align:center">d</td>
<td style="text-align:center">88d</td>
</tr>
<tr>
<td style="text-align:center">Dec</td>
<td style="text-align:center">88</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">Bin</td>
<td style="text-align:center">b</td>
<td style="text-align:center">001010b</td>
</tr>
</tbody>
</table>
<h2 id="instruction">Instruction</h2>
<p>Instruction Contains</p>
<ul>
<li>Label (Optional)</li>
<li>Memonic (Required)</li>
<li>Operand (Dependent on Memonic)</li>
<li>Comment (Optional)</li>
</ul>
<h3 id="label">Label</h3>
<ul>
<li>Acts as placemarkers
<ul>
<li>Marks offset of code</li>
</ul>
</li>
<li>Follows identifier rules</li>
<li>Data Label
<ul>
<li>Must be Unique</li>
<li>Example - <code>MyArray</code> (No colon after)</li>
</ul>
</li>
<li>Code Label
<ul>
<li>Target of Jump and Loop instruction</li>
<li>Example - <code>L1:</code></li>
</ul>
</li>
</ul>
<h3 id="memonic-and-operands">Memonic and Operands</h3>
<ul>
<li>Instruction Memonics
<ul>
<li>Memory Aid</li>
<li>Examples - <code>MOV, ADD, SUB, MUL, INC, DEC</code></li>
</ul>
</li>
<li>Operand
<ul>
<li>Constant</li>
<li>Constant Expression</li>
<li>Register</li>
<li>Memory (data label)</li>
</ul>
</li>
</ul>
<p><em>Constants and constant expressions are often called <strong>Immediate Values</strong></em></p>
<h3 id="comments">Comments</h3>
<ul>
<li>Explain programs purpose</li>
<li>Single Line comments begin with <code>;</code></li>
<li>Multiline comments begin with COMMENT and a chosen character and ends with the chosen character</li>
</ul>
<h3 id="instruction-format-example">Instruction Format Example</h3>
<table>
<thead>
<tr>
<th style="text-align:left">Example</th>
<th style="text-align:left">Command</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">No Operand</td>
<td style="text-align:left"><code>stc ;set carry flag</code></td>
</tr>
<tr>
<td style="text-align:left">One Operand</td>
<td style="text-align:left"><code>inc eax ;increment register</code><br><code>inc myByte ; increment memory</code></td>
</tr>
<tr>
<td style="text-align:left">Two Operand</td>
<td style="text-align:left"><code>add eax, ecx ;register, register</code><br><code>sub myByte, 25 ;memory, constant</code><br></td>
</tr>
</tbody>
</table>
<h2 id="defining-data">Defining Data</h2>
<h3 id="data-types">Data Types</h3>
<table>
<thead>
<tr>
<th style="text-align:left">Unsigned</th>
<th style="text-align:left">Signed</th>
<th style="text-align:left">Definition</th>
<th style="text-align:center">Unsigned Range</th>
<th style="text-align:left">Signed Range</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">BYTE</td>
<td style="text-align:left">SBYTE</td>
<td style="text-align:left">8 bit (un)signed integer</td>
<td style="text-align:center">0 to 255</td>
<td style="text-align:left">-128 to 127</td>
</tr>
<tr>
<td style="text-align:left">WORD</td>
<td style="text-align:left">SWORD</td>
<td style="text-align:left">16 bit (un)signed integer</td>
<td style="text-align:center">0 to <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mrow><mn>1</mn><mn>6</mn></mrow></msup></mrow><annotation encoding="application/x-tex">2^{16}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="base"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:left">-<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mrow><mn>1</mn><mn>5</mn></mrow></msup></mrow><annotation encoding="application/x-tex">2^{15}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="base"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></span> to <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mrow><mn>1</mn><mn>5</mn></mrow></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^{15}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">5</span></span></span></span></span></span></span></span></span><span class="mord rule" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mord rule" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:left">DWORD</td>
<td style="text-align:left">SDWORD</td>
<td style="text-align:left">32 bit (un)signed integer</td>
<td style="text-align:center">0 to <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mrow><mn>3</mn><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">2^{32}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="base"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:left">-<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mrow><mn>3</mn><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">2^{31}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="base"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> to <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mrow><mn>3</mn><mn>1</mn></mrow></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^{31}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord rule" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mord rule" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:left">QWORD</td>
<td style="text-align:left"></td>
<td style="text-align:left">64 bit unsigned integer</td>
<td style="text-align:center">0 to <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mrow><mn>6</mn><mn>4</mn></mrow></msup></mrow><annotation encoding="application/x-tex">2^{64}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="base"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">6</span><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:left">-<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mrow><mn>6</mn><mn>3</mn></mrow></msup></mrow><annotation encoding="application/x-tex">2^{63}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="base"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">6</span><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></span> to <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mrow><mn>6</mn><mn>3</mn></mrow></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^{63}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="base"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">6</span><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mord rule" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mord rule" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:left">TBYTE</td>
<td style="text-align:left"></td>
<td style="text-align:left">80 bit integer</td>
<td style="text-align:center">0 to $2^{80}</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">REAL4</td>
<td style="text-align:left"></td>
<td style="text-align:left">4-byte IEEE short real</td>
<td style="text-align:center"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">REAL8</td>
<td style="text-align:left"></td>
<td style="text-align:left">8-byte IEEE short real</td>
<td style="text-align:center"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">REAL10</td>
<td style="text-align:left"></td>
<td style="text-align:left">10-byte IEEE short real</td>
<td style="text-align:center"></td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<h3 id="data-definition-statement">Data Definition Statement</h3>
<ul>
<li>Sets aside storage in memory for a variable</li>
<li>Optionally assign a name(label) to the data</li>
<li>Syntax
<ul>
<li><code>Name Type Initializer</code></li>
<li><code>value1 BYTE 10</code></li>
</ul>
</li>
</ul>
<h3 id="defining-byte-and-sbyte">Defining BYTE and SBYTE</h3>
<table>
<thead>
<tr>
<th style="text-align:left">Code</th>
<th style="text-align:left">Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>value1 BYTE 'A'</code></td>
<td style="text-align:left">character constant</td>
</tr>
<tr>
<td style="text-align:left"><code>value2 BYTE 0</code></td>
<td style="text-align:left">smallest unsigned byte</td>
</tr>
<tr>
<td style="text-align:left"><code>value3 BYTE 255</code></td>
<td style="text-align:left">largest unsigned byte</td>
</tr>
<tr>
<td style="text-align:left"><code>value4 SBYTE -128</code></td>
<td style="text-align:left">largest signed byte</td>
</tr>
<tr>
<td style="text-align:left"><code>value5 SBYTE +127</code></td>
<td style="text-align:left">largest signed byte</td>
</tr>
<tr>
<td style="text-align:left"><code>value6 BYTE ?</code></td>
<td style="text-align:left">uninitialized byte</td>
</tr>
</tbody>
</table>
<h3 id="defining-byte-arrays">Defining Byte Arrays</h3>
<pre class="hljs"><code><div>list1 <span class="hljs-built_in">BYTE</span> <span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>
list2 <span class="hljs-built_in">BYTE</span> <span class="hljs-number">00100010b</span>, ?, <span class="hljs-string">'a'</span>, <span class="hljs-number">14h</span>
list3 <span class="hljs-built_in">BYTE</span> <span class="hljs-number">50</span>, <span class="hljs-number">60</span>, <span class="hljs-number">70</span>, <span class="hljs-number">80</span>
      <span class="hljs-built_in">BYTE</span> <span class="hljs-number">90</span>, <span class="hljs-number">100</span>, <span class="hljs-number">110</span>, <span class="hljs-number">120</span>
str1  <span class="hljs-built_in">BYTE</span> <span class="hljs-string">"This is a string"</span>, <span class="hljs-number">0</span>
str2  <span class="hljs-built_in">BYTE</span> <span class="hljs-string">'A'</span>, <span class="hljs-string">'E'</span>, <span class="hljs-string">'I'</span>, <span class="hljs-string">'O'</span>, <span class="hljs-string">'U'</span>
str3  <span class="hljs-built_in">BYTE</span> <span class="hljs-string">'The 0 at the end is a null termination'</span>.
           <span class="hljs-string">'This is a multi line string'</span>
str4 <span class="hljs-built_in">BYTE</span> <span class="hljs-string">'0Dh is carriage return, 0Ah is line feed'</span>, <span class="hljs-number">0Dh</span>, <span class="hljs-number">0Ah</span>,
          <span class="hljs-string">'This causes it to go to new line'</span>
</div></code></pre>
<h3 id="dup-operator">DUP operator</h3>
<p>Use DUP to allocate space for array or string</p>
<p>syntax: <code>count DUP</code></p>
<pre class="hljs"><code><div>var1 <span class="hljs-built_in">BYTE</span> <span class="hljs-number">20</span> DUP(<span class="hljs-number">0</span>) <span class="hljs-comment">;20 bytes, all equal to 0</span>
var2 <span class="hljs-built_in">BYTE</span> <span class="hljs-number">20</span> DUP(?) <span class="hljs-comment">;20 bytes, all uninitialized</span>
var3 <span class="hljs-built_in">BYTE</span> <span class="hljs-number">4</span> DUP(<span class="hljs-string">"Hi"</span>)<span class="hljs-comment">;8 bytes, "HiHiHiHi"</span>
</div></code></pre>
<h3 id="little-endian-order">Little Endian order</h3>
<p>All data types larger than a byte store data in little endian order.
<em>Least Significant Byte</em> Occurs at the first memory address</p>
<p>val1 DWORD = 12345678h</p>
<table>
<thead>
<tr>
<th style="text-align:left">Memory Address</th>
<th style="text-align:left">Data</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">0000</td>
<td style="text-align:left">78</td>
</tr>
<tr>
<td style="text-align:left">0001</td>
<td style="text-align:left">56</td>
</tr>
<tr>
<td style="text-align:left">0002</td>
<td style="text-align:left">34</td>
</tr>
<tr>
<td style="text-align:left">0003</td>
<td style="text-align:left">12</td>
</tr>
</tbody>
</table>
<h3 id="declaring-uninitialized-data">Declaring uninitialized data</h3>
<ul>
<li>Use the <code>.data?</code> directive to declare uninitialized data segment</li>
<li>Within the segment, declare variables with &quot;?&quot; initializer
<ul>
<li>Example - <code>smallArray DWORD 10 DUP(?)</code></li>
</ul>
</li>
</ul>
<h2 id="symbolic-constants">Symbolic Constants</h2>
<h3 id="equals-sign">Equals Sign</h3>
<ul>
<li><code>name = expression</code>
<ul>
<li>expression is a 32 bit integer</li>
<li>may be redefined</li>
<li>name is called <code>symbolic constant</code></li>
</ul>
</li>
<li>good programming style to use symbols</li>
</ul>
<pre class="hljs"><code><div>COUNT = <span class="hljs-number">500</span>
...
<span class="hljs-keyword">mov</span> <span class="hljs-built_in">ax</span>, COUNT
</div></code></pre>
<h3 id="calculate-size-of-arrays-and-strings">Calculate Size of Arrays and strings</h3>
<ul>
<li>Current location counter - $
<ul>
<li>subtract from address of array</li>
<li>difference is no of bytes</li>
</ul>
</li>
</ul>
<h4 id="byte-array">Byte Array</h4>
<pre class="hljs"><code><div>list <span class="hljs-built_in">BYTE</span> <span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>
listSize = ($ - list)      <span class="hljs-comment">; 4</span>
</div></code></pre>
<h4 id="word-array">Word Array</h4>
<pre class="hljs"><code><div>list <span class="hljs-built_in">WORD</span> <span class="hljs-number">1000h</span>, <span class="hljs-number">2000h</span>, <span class="hljs-number">3000h</span>, <span class="hljs-number">4000h</span>
listSize = ($ - list)/<span class="hljs-number">2</span>      <span class="hljs-comment">; 4</span>
</div></code></pre>
<h4 id="dword-array">DWORD Array</h4>
<pre class="hljs"><code><div>list <span class="hljs-built_in">DWORD</span> <span class="hljs-number">1000h</span>, <span class="hljs-number">2000h</span>, <span class="hljs-number">3000h</span>, <span class="hljs-number">4000h</span>
listSize = ($ - list)/<span class="hljs-number">4</span>      <span class="hljs-comment">; 4</span>
</div></code></pre>
<h3 id="equ-directive">EQU Directive</h3>
<p>Define symbol as integer or text expression. <strong>Cannot Be redefined</strong></p>
<p>Will act as if</p>
<pre class="hljs"><code><div>PI <span class="hljs-built_in">EQU</span> &lt;<span class="hljs-number">3.1416</span>&gt;
pressKey <span class="hljs-built_in">EQU</span> &lt;<span class="hljs-string">"Press any key to continue"</span>, <span class="hljs-number">0</span>&gt;
<span class="hljs-meta">.data</span>
prompt <span class="hljs-built_in">BYTE</span> pressKey
</div></code></pre>
<h3 id="textequ-directive">TEXTEQU Directive</h3>
<p>Define symbol as integer or text expression. <strong>Can Be redefined</strong></p>
<p>Called Text Macro</p>
<pre class="hljs"><code><div>continueMessage TEXTEQU &lt;<span class="hljs-string">"Do You wish to continue (Y/N)?"</span>, <span class="hljs-number">0</span>&gt;
rowSize = <span class="hljs-number">5</span>
<span class="hljs-meta">.data</span>
prompt1 <span class="hljs-built_in">BYTE</span> continueMessage
count TEXTEQU %(rowSize * <span class="hljs-number">2</span>) <span class="hljs-comment">;Evaluaets this expression and sets count to 10</span>
setupAL TEXTEQU &lt;<span class="hljs-keyword">mov</span>, <span class="hljs-built_in">al</span>, count&gt;
<span class="hljs-meta">
.code</span>
setupAL <span class="hljs-comment">;generates mov al, 10</span>
</div></code></pre>
<h1 id="chapter-4---data-transfer--addressing-and-arithmetic">Chapter 4 - Data Transfer, Addressing and Arithmetic</h1>
<h2 id="data-transfer-instructions">Data Transfer Instructions</h2>
<h3 id="operand-types">Operand Types</h3>
<ul>
<li>Immediate - constant integer
<ul>
<li>value encoded within instruction</li>
</ul>
</li>
<li>register - name of register
<ul>
<li>register name is converted to a number and encoded within instruction</li>
</ul>
</li>
<li>Memory - Reference to location in memory
<ul>
<li>Memory address is encoded within the instruction, or register holds address of memory location</li>
</ul>
</li>
</ul>
<h3 id="direct-memory-operands">Direct Memory Operands</h3>
<ul>
<li>Direct memory operand is a named reference to storage in memory</li>
<li>Named reference (label) is automatically dereferenced by the assembler</li>
<li><code>[var]</code> is similar to <code>*var</code> in c.</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-meta">.data</span>
var1 <span class="hljs-built_in">BYTE</span> <span class="hljs-number">10h</span>   <span class="hljs-comment">;var1 points to the memory location of the array</span>
<span class="hljs-meta">.code</span>
<span class="hljs-keyword">mov</span> <span class="hljs-built_in">al</span>,var1
<span class="hljs-keyword">mov</span> <span class="hljs-built_in">al</span>,[var1]   <span class="hljs-comment">;Alternate notation</span>
</div></code></pre>
<h3 id="mov-instruction">MOV instruction</h3>
<ul>
<li>Move from source to destination.
<ul>
<li>Syntax - <code>MOV destionation,source</code></li>
</ul>
</li>
<li>No more than 1 memory operand allowed</li>
<li><strong>CS</strong>, <strong>EIP</strong>, <strong>IP</strong> cannot be the destination</li>
<li>No immediate to segment mmoves</li>
</ul>
<p>TODO: Find out whether endianness affects this</p>
<pre class="hljs"><code><div><span class="hljs-meta">.data</span>
count <span class="hljs-built_in">BYTE</span> <span class="hljs-number">100</span>
wVal  <span class="hljs-built_in">WORD</span> <span class="hljs-number">2</span>
<span class="hljs-meta">.code</span>
<span class="hljs-keyword">mov</span> <span class="hljs-built_in">bl</span>,count      <span class="hljs-comment">;bl = 100</span>
<span class="hljs-keyword">mov</span> <span class="hljs-built_in">ax</span>,wVal       <span class="hljs-comment">;ax = 2</span>
<span class="hljs-keyword">mov</span> count,<span class="hljs-built_in">al</span>      <span class="hljs-comment">;count = ?</span>

<span class="hljs-keyword">mov</span> <span class="hljs-built_in">al</span>,wVal       <span class="hljs-comment">;error since wVal bigger than al</span>
<span class="hljs-keyword">mov</span> <span class="hljs-built_in">ax</span>,count      <span class="hljs-comment">;error ?Type mismatch?</span>
<span class="hljs-keyword">mov</span> <span class="hljs-built_in">eax</span>,count     <span class="hljs-comment">;error ?Type mismatch?</span>
</div></code></pre>
<p>More Errors</p>
<pre class="hljs"><code><div><span class="hljs-meta">.data</span>
bval  <span class="hljs-built_in">BYTE</span>  <span class="hljs-number">100</span>
bVal2 <span class="hljs-built_in">BYTE</span>  ?
wVal  <span class="hljs-built_in">WORD</span>  <span class="hljs-number">2</span>
dVal  <span class="hljs-built_in">DWORD</span> <span class="hljs-number">5</span>
<span class="hljs-meta">.code</span>
<span class="hljs-keyword">mov</span> <span class="hljs-built_in">ds</span>,<span class="hljs-number">45</span>       <span class="hljs-comment">;move to DS not permitted</span>
<span class="hljs-keyword">mov</span> <span class="hljs-built_in">esi</span>,wVal    <span class="hljs-comment">;size mismatch, esi is 32 bits, wVal is 16 bits</span>
<span class="hljs-keyword">mov</span> <span class="hljs-built_in">eip</span>,dVal    <span class="hljs-comment">;eip cannot be destination</span>
<span class="hljs-keyword">mov</span> <span class="hljs-number">25</span>,bVal     <span class="hljs-comment">;immediate value cannot be register</span>
<span class="hljs-keyword">mov</span> bVal2,bVal  <span class="hljs-comment">;memory to memory move not permitted</span>
</div></code></pre>
<h3 id="zero-extension">Zero Extension</h3>
<p>When you copy a <em>smaller</em> value to a larger destination, the <strong>MOVZX</strong> instruction fills the upper half of destination with <em>Zeros</em></p>
<p>Destination <strong>MUST</strong> be a register</p>
<pre class="hljs"><code><div><span class="hljs-keyword">mov</span> <span class="hljs-built_in">bl</span>,<span class="hljs-number">10001111b</span>    <span class="hljs-comment">;8 bits</span>
<span class="hljs-keyword">movzx</span> <span class="hljs-built_in">ax</span>,<span class="hljs-built_in">bl</span>         <span class="hljs-comment">;ax = 0000 0000 1000 1111, upper half filled with 0s</span>
</div></code></pre>
<h3 id="sign-extension">Sign Extension</h3>
<p>The <strong>MOVSX</strong> instruction fills the upper half of the destination with a copy of the souce operand's sign bit</p>
<p>Destination <strong>MUST</strong> be a register</p>
<pre class="hljs"><code><div><span class="hljs-keyword">mov</span> <span class="hljs-built_in">bl</span>,<span class="hljs-number">10001111b</span>    <span class="hljs-comment">;8 bits</span>
<span class="hljs-keyword">movsx</span> <span class="hljs-built_in">ax</span>,<span class="hljs-built_in">bl</span>         <span class="hljs-comment">;ax = 1111 1111 1000 1111, upper half filled with sign bit</span>
</div></code></pre>
<h3 id="xchg-instruction">XCHG Instruction</h3>
<p><strong>XCHG</strong> exchanges the values of 2 operands. At least 1 operand must be register. No Immediate Operands permitted.</p>
<pre class="hljs"><code><div><span class="hljs-meta">.data</span>
var1 <span class="hljs-built_in">WORD</span> <span class="hljs-number">1000h</span>
var2 <span class="hljs-built_in">WORD</span> <span class="hljs-number">2000h</span>
<span class="hljs-meta">.code</span>
<span class="hljs-keyword">xchg</span> <span class="hljs-built_in">ax</span>,<span class="hljs-built_in">bx</span>      <span class="hljs-comment">;exchange 16-bit regs</span>
<span class="hljs-keyword">xchg</span> <span class="hljs-number">ah</span>,<span class="hljs-built_in">al</span>      <span class="hljs-comment">;exchange 8-bit regs</span>
<span class="hljs-keyword">xchg</span> var1,<span class="hljs-built_in">bx</span>    <span class="hljs-comment">;exchange mem,reg</span>
<span class="hljs-keyword">xchg</span> var1,var2  <span class="hljs-comment">;error: 2 memory operands</span>
</div></code></pre>
<h3 id="direct-offset-operands">Direct-Offset Operands</h3>
<p>constant offset is added to data label to produce an effective address. The address is dereferenced to get value inside its memory location.</p>
<p>Byte example</p>
<pre class="hljs"><code><div><span class="hljs-meta">.data</span>
arrayB <span class="hljs-built_in">BYTE</span> <span class="hljs-number">10h</span>, <span class="hljs-number">20h</span>, <span class="hljs-number">30h</span>, <span class="hljs-number">40h</span>
<span class="hljs-meta">.code</span>
<span class="hljs-keyword">mov</span> <span class="hljs-built_in">al</span>,arrayB+<span class="hljs-number">1</span>   <span class="hljs-comment">;AL = 20h</span>
<span class="hljs-keyword">mov</span> <span class="hljs-built_in">al</span>,[arrayB+<span class="hljs-number">1</span>] <span class="hljs-comment">;Alternate notation.</span>
</div></code></pre>
<p>Word/DWord Example</p>
<pre class="hljs"><code><div><span class="hljs-meta">.data</span>
arrayW <span class="hljs-built_in">WORD</span>   <span class="hljs-number">1000h</span>,<span class="hljs-number">2000h</span>,<span class="hljs-number">3000h</span>,<span class="hljs-number">4000h</span>
arrayD <span class="hljs-built_in">DWORD</span>  <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>
<span class="hljs-meta">.code</span>
<span class="hljs-keyword">mov</span> <span class="hljs-built_in">ax</span>,[arrayW+<span class="hljs-number">2</span>]   <span class="hljs-comment">;ax = 2000h</span>
<span class="hljs-keyword">mov</span> <span class="hljs-built_in">ax</span>,[arrayW+<span class="hljs-number">4</span>]   <span class="hljs-comment">;ax = 3000h</span>
<span class="hljs-keyword">mov</span> <span class="hljs-built_in">eax</span>,[arrayD+<span class="hljs-number">4</span>]  <span class="hljs-comment">;eax = 2</span>
</div></code></pre>
<h3 id="challenge---program-that-makes-a-array-of-1-2-3-to-3-1-2">Challenge - Program that makes a array of 1,2,3 to 3,1,2</h3>
<pre class="hljs"><code><div><span class="hljs-meta">.data</span>
arrayD <span class="hljs-built_in">DWORD</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>
<span class="hljs-meta">.code</span>
<span class="hljs-keyword">mov</span>  <span class="hljs-built_in">eax</span>,[arrayD]     <span class="hljs-comment">;eax = 1</span>
<span class="hljs-keyword">xchg</span> <span class="hljs-built_in">eax</span>,[arrayD+<span class="hljs-number">4</span>]   <span class="hljs-comment">;eax = 2, arrayD = 1,1,3</span>
<span class="hljs-keyword">xchg</span> <span class="hljs-built_in">eax</span>,[arrayD+<span class="hljs-number">8</span>]   <span class="hljs-comment">;eax = 3, arrayD = 1,1,2</span>
<span class="hljs-keyword">mov</span> [arrayD],<span class="hljs-built_in">eax</span>      <span class="hljs-comment">;arrayD = 3,1,2</span>
</div></code></pre>
<h2 id="addition-and-subtraction">Addition and Subtraction</h2>
<h3 id="inc-and-dec-instructions">INC and DEC Instructions</h3>
<ul>
<li><code>inc destination</code>
<ul>
<li>Logic &lt;-- Destination + 1</li>
</ul>
</li>
<li><code>dec destination</code>
<ul>
<li>Logic &lt;-- Destination - 1</li>
</ul>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-meta">.data</span>
myWord  <span class="hljs-built_in">WORD</span>  <span class="hljs-number">1000h</span>
<span class="hljs-meta">.code</span>
<span class="hljs-keyword">inc</span> myWord    <span class="hljs-comment">;myWord = 1001h</span>
<span class="hljs-keyword">mov</span> <span class="hljs-built_in">ax</span>,<span class="hljs-number">00ffh</span>
<span class="hljs-keyword">inc</span> <span class="hljs-built_in">ax</span>        <span class="hljs-comment">;ax = 0100h</span>
</div></code></pre>
<h3 id="add-and-sub-operations">ADD and SUB operations</h3>
<ul>
<li><code>add destionation source</code>
<ul>
<li>Logic &lt;-- destionation + source</li>
</ul>
</li>
<li><code>sub destionation source</code>
<ul>
<li>Logic &lt;-- destionation - source</li>
</ul>
</li>
<li><strong>Same rules as the <code>mov</code> instruction</strong></li>
</ul>
<pre class="hljs"><code><div><span class="hljs-meta">.data</span>
var1 <span class="hljs-built_in">DWORD</span> <span class="hljs-number">10000h</span>
var2 <span class="hljs-built_in">DWORD</span> <span class="hljs-number">20000h</span>
<span class="hljs-meta">.code</span>
<span class="hljs-keyword">mov</span> <span class="hljs-built_in">eax</span>, var1   <span class="hljs-comment">;eax = 10000h</span>
<span class="hljs-keyword">add</span> <span class="hljs-built_in">eax</span>,var2    <span class="hljs-comment">;eax = 30000h</span>
</div></code></pre>
<h3 id="neg-negate-operation">NEG (negate) operation</h3>
<p>Reverses the sign of an operand. Can be register or memory</p>
<pre class="hljs"><code><div><span class="hljs-meta">.data</span>
valB <span class="hljs-built_in">BYTE</span> -<span class="hljs-number">1</span>
valW <span class="hljs-built_in">WORD</span> +<span class="hljs-number">32767</span>
<span class="hljs-meta">.code</span>
<span class="hljs-keyword">mov</span> <span class="hljs-built_in">al</span>,valB     <span class="hljs-comment">;al = -1</span>
<span class="hljs-keyword">neg</span> <span class="hljs-built_in">al</span>          <span class="hljs-comment">;al = 1</span>
</div></code></pre>
<h2 id="flags-affected-by-arithmetic">Flags affected by arithmetic</h2>
<ul>
<li>ALU has status flags that reflect outcome of arithmetic and bitwise operations based on content of destination operand
<ul>
<li>Zero Flag - When destination = 0</li>
<li>Sign Flag - Destination is negative</li>
<li>Carry Flag - when unsigned value out of range</li>
<li>Overflow Flag - when signed value out of range</li>
</ul>
</li>
<li><code>mov</code> instruction never affects the flags</li>
</ul>
<h3 id="zero-flag-zf">Zero Flag (ZF)</h3>
<p>occurs when result of operation produces zero in destination</p>
<pre class="hljs"><code><div><span class="hljs-keyword">mov</span> <span class="hljs-built_in">cx</span>,<span class="hljs-number">1</span>
<span class="hljs-keyword">sub</span> <span class="hljs-built_in">cx</span>,<span class="hljs-number">1</span>        <span class="hljs-comment">;cx = 0, ZF = 1</span>
<span class="hljs-keyword">mov</span> <span class="hljs-built_in">ax</span>,<span class="hljs-number">0FFFFh</span>
<span class="hljs-keyword">inc</span> <span class="hljs-built_in">ax</span>          <span class="hljs-comment">; ax = 0; ZF = 1</span>
<span class="hljs-keyword">inc</span> <span class="hljs-built_in">ax</span>          <span class="hljs-comment">; ax = 1; ZF = 0</span>
</div></code></pre>
<h3 id="sign-flag-sf">Sign Flag (SF)</h3>
<p>set when destination operand is negative. Flag is cleared when destination is positive</p>
<pre class="hljs"><code><div><span class="hljs-keyword">mov</span> <span class="hljs-built_in">cx</span>,<span class="hljs-number">0</span>      <span class="hljs-comment">;cx = 0</span>
<span class="hljs-keyword">dec</span> <span class="hljs-built_in">cx</span>        <span class="hljs-comment">;cx = -1, SF = 1</span>
<span class="hljs-keyword">add</span> <span class="hljs-built_in">cx</span>,<span class="hljs-number">2</span>      <span class="hljs-comment">;cx = 1, SF = 0</span>
</div></code></pre>
<p><em>Signed flag is <strong>Destionations</strong> highest bit</em></p>
<pre class="hljs"><code><div><span class="hljs-keyword">mov</span> <span class="hljs-built_in">al</span>,<span class="hljs-number">0</span>        <span class="hljs-comment">;al = 0</span>
<span class="hljs-keyword">sub</span> <span class="hljs-built_in">al</span>,<span class="hljs-number">1</span>        <span class="hljs-comment">;al = 1111 1111b, SF = 1</span>
<span class="hljs-keyword">add</span> <span class="hljs-built_in">al</span>,<span class="hljs-number">2</span>        <span class="hljs-comment">;al = 0000 0001b, SF = 0</span>
</div></code></pre>
<h3 id="hardware-viewpoint-on-signed-and-unsigned">Hardware viewpoint on signed and unsigned</h3>
<p>CPU operations work exactly the same on unsigned and signed operations. <em>It doesnt care whether the value is signed or unsigned</em>. It just sets the appropriate sign flags.</p>
<h3 id="carry-flag-cf">Carry Flag (CF)</h3>
<h3 id="overflow-flag-of">Overflow Flag (OF)</h3>
<h2 id="indirect-addressing">Indirect Addressing</h2>
<h2 id="jmp-and-loop-instructions">JMP and LOOP instructions</h2>
<h2 id="64-bit-programming">64-Bit Programming</h2>

    </body>
    </html>